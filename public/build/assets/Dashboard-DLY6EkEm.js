import{h as U,u as V,r as a,i as P,j as J,k as O,c as e,a as r,b as s,d as Q,F as i,l as b,f as n,t as o,m as d,n as g,p as f,R as p,g as S}from"./app-CkKbduy8.js";import{h as u}from"./moment-BLMuvzoS.js";import{d as W}from"./debounce-BMmXVQ06.js";const G={class:"container-fluid"},K={class:"row justify-content-center"},X={class:"col-12"},Z={class:"row"},c={class:"col-md-2"},_={class:"card shadow mb-3"},h={class:"card-body"},ll={class:"badge badge-warning"},sl={class:"col-md-2"},tl={class:"card shadow mb-3"},nl={class:"card-body"},ol={class:"badge badge-info"},al={class:"col-md-2"},el={class:"card shadow mb-3"},rl={class:"card-body"},dl={class:"badge badge-primary"},ul={class:"col-md-2"},il={class:"card shadow mb-3"},ml={class:"card-body"},bl={class:"badge badge-danger"},gl={class:"col-md-2"},fl={class:"card shadow mb-3"},pl={class:"card-body"},vl={class:"badge badge-secondary"},yl={class:"col-md-1"},xl={class:"card shadow mb-3"},wl={class:"card-body"},Ml={class:"badge badge-success"},ql=["onClick"],Yl={class:"col-md-1"},Dl={class:"card shadow mb-3"},kl={class:"card-body"},El={class:"badge badge-dark"},jl={__name:"Dashboard",setup(Cl){let Y;const D=U(),w=V();a(null);const k=a(!0);a(!1),a(null);const E=a(""),A=a(null),z=a(1);a(15),a(0),a(!1),a();const C=a([]),F=a([]),T=a([]),$=a([]),j=a([]),H=a([]),L=a([]),B=v=>{S.post(`/api/nextstage/${v}`).then(()=>{y(),w.success("Sucesso")}).catch(l=>{w.error(`${l}`)}).finally(()=>{})};function I(){D&&D.back()}const y=async(v=1)=>{S.get("/api/dashboard",{params:{query:E.value}}).then(l=>{F.value=l.data.out,C.value=l.data.in,T.value=l.data.oficina,$.value=l.data.em_manutencao,j.value=l.data.aguardaaprovacao,H.value=l.data.inspecao,L.value=l.data.concluida,k.value=!1,console.log(A.value)}).catch(l=>{k.value=!1,w.error(`${l}`),I()})},R=W(()=>{y(z.value)},300),m=v=>{const l=u(),t=u(v),x=u.duration(l.diff(t)),N=Math.floor(x.asDays()),M=Math.floor(x.asHours()%24),q=Math.floor(x.asMinutes()%60);return N>0?`${N}d ${M}h ${q}m`:M>0?`${M}h ${q}m`:`${q}m`};return P(E,R),J(()=>{y(),Y=setInterval(()=>{y()},1e4)}),O(()=>{clearInterval(Y)}),(v,l)=>(r(),e(i,null,[s("div",G,[s("div",K,[s("div",X,[l[101]||(l[101]=Q('<div class="row align-items-center mb-2"><div class="col"><h2 class="h5 page-title">Cornelder</h2></div><div class="col-auto"><form class="form-inline"><div class="form-group d-none d-lg-inline"><label for="reportrange" class="sr-only">Date Ranges</label><div id="reportrange" class="px-2 py-2 text-muted"><span class="small"></span></div></div><div class="form-group"><button type="button" class="btn btn-sm"><span class="fe fe-refresh-ccw fe-16 text-muted"></span></button><button type="button" class="btn btn-sm mr-2"><span class="fe fe-filter fe-16 text-muted"></span></button></div></form></div></div>',1)),s("div",Z,[s("div",c,[l[11]||(l[11]=s("h4",{class:"mb-3"}," Aguarda Aprovação ",-1)),(r(!0),e(i,null,b(j.value,t=>(r(),e("div",_,[s("div",h,[l[0]||(l[0]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[1]||(l[1]=s("br",null,null,-1)),l[2]||(l[2]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[3]||(l[3]=s("br",null,null,-1)),l[4]||(l[4]=s("strong",null,"Equipamento:",-1)),n(" "+o(t.equipment.name)+" ",1),l[5]||(l[5]=s("br",null,null,-1)),l[6]||(l[6]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.entry_time).format("DD-MM-YYYY H:mm")),1),l[7]||(l[7]=s("br",null,null,-1)),l[8]||(l[8]=s("strong",null,"Tempo no estado:",-1)),s("span",ll,o(m(t.entry_time)),1),l[9]||(l[9]=s("br",null,null,-1)),l[10]||(l[10]=s("br",null,null,-1))])]))),256))]),s("div",sl,[l[26]||(l[26]=s("h4",{class:"mb-3"}," Aguardando Entrada ",-1)),(r(!0),e(i,null,b(C.value,t=>(r(),e("div",tl,[s("div",nl,[l[13]||(l[13]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[14]||(l[14]=s("br",null,null,-1)),l[15]||(l[15]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[16]||(l[16]=s("br",null,null,-1)),l[17]||(l[17]=s("strong",null,"Equipamento:",-1)),l[18]||(l[18]=n()),g(d(p),{to:{name:"ocorrencia.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[12]||(l[12]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[12]},1032,["to"]),l[19]||(l[19]=n()),l[20]||(l[20]=s("br",null,null,-1)),l[21]||(l[21]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.approved_at).format("DD-MM-YYYY H:mm")),1),l[22]||(l[22]=s("br",null,null,-1)),l[23]||(l[23]=s("strong",null,"Tempo no estado:",-1)),s("span",ol,o(m(t.approved_at)),1),l[24]||(l[24]=s("br",null,null,-1)),l[25]||(l[25]=s("br",null,null,-1))])]))),256))]),s("div",al,[l[41]||(l[41]=s("h4",{class:"mb-3"}," Na Oficina ",-1)),(r(!0),e(i,null,b(T.value,t=>(r(),e("div",el,[s("div",rl,[l[28]||(l[28]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[29]||(l[29]=s("br",null,null,-1)),l[30]||(l[30]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[31]||(l[31]=s("br",null,null,-1)),l[32]||(l[32]=s("strong",null,"Equipamento:",-1)),l[33]||(l[33]=n()),g(d(p),{to:{name:"ocorrencia.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[27]||(l[27]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[27]},1032,["to"]),l[34]||(l[34]=n()),l[35]||(l[35]=s("br",null,null,-1)),l[36]||(l[36]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.in_maintenance_at).format("DD-MM-YYYY H:mm")),1),l[37]||(l[37]=s("br",null,null,-1)),l[38]||(l[38]=s("strong",null,"Tempo no estado:",-1)),s("span",dl,o(m(t.in_maintenance_at)),1),l[39]||(l[39]=s("br",null,null,-1)),l[40]||(l[40]=s("br",null,null,-1))])]))),256))]),s("div",ul,[l[56]||(l[56]=s("h4",{class:"mb-3"}," Em Manutenção ",-1)),(r(!0),e(i,null,b($.value,t=>(r(),e("div",il,[s("div",ml,[l[43]||(l[43]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[44]||(l[44]=s("br",null,null,-1)),l[45]||(l[45]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[46]||(l[46]=s("br",null,null,-1)),l[47]||(l[47]=s("strong",null,"Equipamento:",-1)),l[48]||(l[48]=n()),g(d(p),{to:{name:"ocorrencia.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[42]||(l[42]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[42]},1032,["to"]),l[49]||(l[49]=n()),l[50]||(l[50]=s("br",null,null,-1)),l[51]||(l[51]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.maintenance_done_at).format("DD-MM-YYYY H:mm")),1),l[52]||(l[52]=s("br",null,null,-1)),l[53]||(l[53]=s("strong",null,"Tempo no estado:",-1)),s("span",bl,o(m(t.maintenance_done_at)),1),l[54]||(l[54]=s("br",null,null,-1)),l[55]||(l[55]=s("br",null,null,-1))])]))),256))]),s("div",gl,[l[71]||(l[71]=s("h4",{class:"mb-3"}," Em Inspeção ",-1)),(r(!0),e(i,null,b(H.value,t=>(r(),e("div",fl,[s("div",pl,[l[58]||(l[58]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[59]||(l[59]=s("br",null,null,-1)),l[60]||(l[60]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[61]||(l[61]=s("br",null,null,-1)),l[62]||(l[62]=s("strong",null,"Equipamento:",-1)),l[63]||(l[63]=n()),g(d(p),{to:{name:"ocorrencia.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[57]||(l[57]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[57]},1032,["to"]),l[64]||(l[64]=n()),l[65]||(l[65]=s("br",null,null,-1)),l[66]||(l[66]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.inspection_at).format("DD-MM-YYYY H:mm")),1),l[67]||(l[67]=s("br",null,null,-1)),l[68]||(l[68]=s("strong",null,"Tempo no estado:",-1)),s("span",vl,o(m(t.inspection_at)),1),l[69]||(l[69]=s("br",null,null,-1)),l[70]||(l[70]=s("br",null,null,-1))])]))),256))]),s("div",yl,[l[87]||(l[87]=s("h4",{class:"mb-3"}," Concluída ",-1)),(r(!0),e(i,null,b(L.value,t=>(r(),e("div",xl,[s("div",wl,[l[74]||(l[74]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[75]||(l[75]=s("br",null,null,-1)),l[76]||(l[76]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[77]||(l[77]=s("br",null,null,-1)),l[78]||(l[78]=s("strong",null,"Equipamento:",-1)),l[79]||(l[79]=n()),g(d(p),{to:{name:"ocorrencia.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[72]||(l[72]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[72]},1032,["to"]),l[80]||(l[80]=n()),l[81]||(l[81]=s("br",null,null,-1)),l[82]||(l[82]=s("strong",null,"Conclusão:",-1)),n(" "+o(d(u)(t.authorized_exit_at).format("DD-MM-YYYY H:mm")),1),l[83]||(l[83]=s("br",null,null,-1)),l[84]||(l[84]=s("strong",null,"Tempo no estado:",-1)),s("span",Ml,o(m(t.authorized_exit_at)),1),l[85]||(l[85]=n()),l[86]||(l[86]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:x=>B(t.id)},l[73]||(l[73]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,ql)])]))),256))]),s("div",Yl,[l[100]||(l[100]=s("h4",{class:"mb-3"}," Saída ",-1)),(r(!0),e(i,null,b(F.value,t=>(r(),e("div",Dl,[s("div",kl,[l[89]||(l[89]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[90]||(l[90]=s("br",null,null,-1)),l[91]||(l[91]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[92]||(l[92]=s("br",null,null,-1)),l[93]||(l[93]=s("strong",null,"Equipamento:",-1)),l[94]||(l[94]=n()),g(d(p),{to:{name:"ocorrencia.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[88]||(l[88]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[88]},1032,["to"]),l[95]||(l[95]=n()),l[96]||(l[96]=s("br",null,null,-1)),l[97]||(l[97]=s("strong",null,"Saída:",-1)),n(" "+o(d(u)(t.exit_requested_at).format("DD-MM-YYYY H:mm")),1),l[98]||(l[98]=s("br",null,null,-1)),l[99]||(l[99]=s("strong",null,"Tempo no estado:",-1)),s("span",El,o(m(t.exit_requested_at)),1)])]))),256))])])])])]),l[102]||(l[102]=s("div",{class:"modal fade modal-notif modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog modal-sm",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Notifications "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body"},[s("div",{class:"list-group list-group-flush my-n3"},[s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-box fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Package has uploaded successfull")]),s("div",{class:"my-0 text-muted small"}," Package is zipped and uploaded "),s("small",{class:"badge badge-pill badge-light text-muted"},"1m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-download fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Widgets are updated successfull")]),s("div",{class:"my-0 text-muted small"}," Just create new layout Index, form, table "),s("small",{class:"badge badge-pill badge-light text-muted"},"2m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-inbox fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Notifications have been sent")]),s("div",{class:"my-0 text-muted small"}," Fusce dapibus, tellus ac cursus commodo "),s("small",{class:"badge badge-pill badge-light text-muted"},"30m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-link fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Link was attached to menu")]),s("div",{class:"my-0 text-muted small"}," New layout has been attached to the menu "),s("small",{class:"badge badge-pill badge-light text-muted"},"1h ago")])])])])]),s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary btn-block","data-dismiss":"modal"}," Clear All ")])])])],-1)),l[103]||(l[103]=s("div",{class:"modal fade modal-shortcut modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Shortcuts "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body px-5"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-success justify-content-center"},[s("i",{class:"fe fe-cpu fe-32 align-self-center text-white"})]),s("p",null,"Control area")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-activity fe-32 align-self-center text-white"})]),s("p",null,"Activity")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-droplet fe-32 align-self-center text-white"})]),s("p",null,"Droplet")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-upload-cloud fe-32 align-self-center text-white"})]),s("p",null,"Upload")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-users fe-32 align-self-center text-white"})]),s("p",null,"Users")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-settings fe-32 align-self-center text-white"})]),s("p",null,"Settings")])])])])])],-1))],64))}};export{jl as default};
