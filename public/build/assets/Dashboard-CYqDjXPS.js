import{h as I,u as R,r as a,i as U,j as V,k as P,c as e,a as r,b as s,d as J,F as i,l as p,f as n,n as g,t as o,p as f,m as d,R as v,g as L}from"./app-CkKbduy8.js";import{h as u}from"./moment-BLMuvzoS.js";import{d as O}from"./debounce-BMmXVQ06.js";const Q={class:"container-fluid"},W={class:"row justify-content-center"},G={class:"col-12"},K={class:"row"},X={class:"col-md-2"},Z={class:"card shadow mb-3"},c={class:"card-body"},_={class:"badge badge-warning"},h={class:"col-md-2"},ll={class:"card shadow mb-3"},sl={class:"card-body"},tl={class:"badge badge-info"},nl={class:"col-md-2"},ol={class:"card shadow mb-3"},al={class:"card-body"},el={class:"badge badge-primary"},rl={class:"col-md-2"},dl={class:"card shadow mb-3"},ul={class:"card-body"},il={class:"badge badge-danger"},ml={class:"col-md-2"},bl={class:"card shadow mb-3"},pl={class:"card-body"},gl={class:"badge badge-secondary"},fl=["onClick"],vl={class:"col-md-1"},yl={class:"card shadow mb-3"},wl={class:"card-body"},xl={class:"badge badge-success"},Ml={class:"col-md-1"},ql={class:"card shadow mb-3"},Yl={class:"card-body"},Dl={class:"badge badge-dark"},Tl={__name:"Dashboard",setup(kl){let Y;const D=I(),x=R();a(null);const k=a(!0);a(!1),a(null);const E=a(""),N=a(null),S=a(1);a(15),a(0),a(!1),a();const C=a([]),F=a([]),T=a([]),$=a([]),j=a([]),m=b=>{const l=u(),t=u(b),w=u.duration(l.diff(t)),H=Math.floor(w.asDays()),M=Math.floor(w.asHours()%24),q=Math.floor(w.asMinutes()%60);return H>0?`${H}d ${M}h ${q}m`:M>0?`${M}h ${q}m`:`${q}m`},A=b=>{L.post(`/api/nextstage/${b}`).then(()=>{y(),x.success("Sucesso")}).catch(l=>{x.error(`${l}`)}).finally(()=>{})};function z(){D&&D.back()}const y=async(b=1)=>{L.get("/api/dashboard",{params:{query:E.value}}).then(l=>{F.value=l.data.out,C.value=l.data.in,T.value=l.data.oficina,$.value=l.data.manutencao,j.value=l.data.aguardaaprovacao,k.value=!1,console.log(N.value)}).catch(l=>{k.value=!1,x.error(`${l}`),z()})},B=O(()=>{y(S.value)},300);return U(E,B),V(()=>{y(),Y=setInterval(()=>{y()},1e4)}),P(()=>{clearInterval(Y)}),(b,l)=>(r(),e(i,null,[s("div",Q,[s("div",W,[s("div",G,[l[102]||(l[102]=J('<div class="row align-items-center mb-2"><div class="col"><h2 class="h5 page-title">Cornelder</h2></div><div class="col-auto"><form class="form-inline"><div class="form-group d-none d-lg-inline"><label for="reportrange" class="sr-only">Date Ranges</label><div id="reportrange" class="px-2 py-2 text-muted"><span class="small"></span></div></div><div class="form-group"><button type="button" class="btn btn-sm"><span class="fe fe-refresh-ccw fe-16 text-muted"></span></button><button type="button" class="btn btn-sm mr-2"><span class="fe fe-filter fe-16 text-muted"></span></button></div></form></div></div>',1)),s("div",K,[s("div",X,[l[14]||(l[14]=s("h4",{class:"mb-3"}," Aguarda Aprovação ",-1)),(r(!0),e(i,null,p(j.value,t=>(r(),e("div",Z,[s("div",c,[l[1]||(l[1]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[2]||(l[2]=s("br",null,null,-1)),l[3]||(l[3]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[4]||(l[4]=s("br",null,null,-1)),l[5]||(l[5]=s("strong",null,"Equipamento:",-1)),l[6]||(l[6]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[0]||(l[0]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[0]},1032,["to"]),l[7]||(l[7]=n()),l[8]||(l[8]=s("br",null,null,-1)),l[9]||(l[9]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.entry_time).format("DD-MM-YYYY H:mm")),1),l[10]||(l[10]=s("br",null,null,-1)),l[11]||(l[11]=s("strong",null,"Tempo no estado:",-1)),s("span",_,o(m(t.entry_time)),1),l[12]||(l[12]=s("br",null,null,-1)),l[13]||(l[13]=s("br",null,null,-1))])]))),256))]),s("div",h,[l[29]||(l[29]=s("h4",{class:"mb-3"}," Aguardando Entrada ",-1)),(r(!0),e(i,null,p(C.value,t=>(r(),e("div",ll,[s("div",sl,[l[16]||(l[16]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[17]||(l[17]=s("br",null,null,-1)),l[18]||(l[18]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[19]||(l[19]=s("br",null,null,-1)),l[20]||(l[20]=s("strong",null,"Equipamento:",-1)),l[21]||(l[21]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[15]||(l[15]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[15]},1032,["to"]),l[22]||(l[22]=n()),l[23]||(l[23]=s("br",null,null,-1)),l[24]||(l[24]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.approved_at).format("DD-MM-YYYY H:mm")),1),l[25]||(l[25]=s("br",null,null,-1)),l[26]||(l[26]=s("strong",null,"Tempo no estado:",-1)),s("span",tl,o(m(t.approved_at)),1),l[27]||(l[27]=s("br",null,null,-1)),l[28]||(l[28]=s("br",null,null,-1))])]))),256))]),s("div",nl,[l[44]||(l[44]=s("h4",{class:"mb-3"}," Na Oficina ",-1)),(r(!0),e(i,null,p(T.value,t=>(r(),e("div",ol,[s("div",al,[l[31]||(l[31]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[32]||(l[32]=s("br",null,null,-1)),l[33]||(l[33]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[34]||(l[34]=s("br",null,null,-1)),l[35]||(l[35]=s("strong",null,"Equipamento:",-1)),l[36]||(l[36]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[30]||(l[30]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[30]},1032,["to"]),l[37]||(l[37]=n()),l[38]||(l[38]=s("br",null,null,-1)),l[39]||(l[39]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.in_maintenance_at).format("DD-MM-YYYY H:mm")),1),l[40]||(l[40]=s("br",null,null,-1)),l[41]||(l[41]=s("strong",null,"Tempo no estado:",-1)),s("span",el,o(m(t.in_maintenance_at)),1),l[42]||(l[42]=s("br",null,null,-1)),l[43]||(l[43]=s("br",null,null,-1))])]))),256))]),s("div",rl,[l[59]||(l[59]=s("h4",{class:"mb-3"}," Em Manutenção ",-1)),(r(!0),e(i,null,p($.value,t=>(r(),e("div",dl,[s("div",ul,[l[46]||(l[46]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[47]||(l[47]=s("br",null,null,-1)),l[48]||(l[48]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[49]||(l[49]=s("br",null,null,-1)),l[50]||(l[50]=s("strong",null,"Equipamento:",-1)),l[51]||(l[51]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[45]||(l[45]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[45]},1032,["to"]),l[52]||(l[52]=n()),l[53]||(l[53]=s("br",null,null,-1)),l[54]||(l[54]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.maintenance_done_at).format("DD-MM-YYYY H:mm")),1),l[55]||(l[55]=s("br",null,null,-1)),l[56]||(l[56]=s("strong",null,"Tempo no estado:",-1)),s("span",il,o(m(t.maintenance_done_at)),1),l[57]||(l[57]=s("br",null,null,-1)),l[58]||(l[58]=s("br",null,null,-1))])]))),256))]),s("div",ml,[l[75]||(l[75]=s("h4",{class:"mb-3"}," Em Inspeção ",-1)),(r(!0),e(i,null,p(b.inspecao,t=>(r(),e("div",bl,[s("div",pl,[l[62]||(l[62]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[63]||(l[63]=s("br",null,null,-1)),l[64]||(l[64]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[65]||(l[65]=s("br",null,null,-1)),l[66]||(l[66]=s("strong",null,"Equipamento:",-1)),l[67]||(l[67]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[60]||(l[60]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[60]},1032,["to"]),l[68]||(l[68]=n()),l[69]||(l[69]=s("br",null,null,-1)),l[70]||(l[70]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.inspection_at).format("DD-MM-YYYY H:mm")),1),l[71]||(l[71]=s("br",null,null,-1)),l[72]||(l[72]=s("strong",null,"Tempo no estado:",-1)),s("span",gl,o(m(t.inspection_at)),1),l[73]||(l[73]=s("br",null,null,-1)),l[74]||(l[74]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:w=>A(t.id)},l[61]||(l[61]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,fl)])]))),256))]),s("div",vl,[l[88]||(l[88]=s("h4",{class:"mb-3"}," Concluída ",-1)),(r(!0),e(i,null,p(b.concluida,t=>(r(),e("div",yl,[s("div",wl,[l[77]||(l[77]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[78]||(l[78]=s("br",null,null,-1)),l[79]||(l[79]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[80]||(l[80]=s("br",null,null,-1)),l[81]||(l[81]=s("strong",null,"Equipamento:",-1)),l[82]||(l[82]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[76]||(l[76]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[76]},1032,["to"]),l[83]||(l[83]=n()),l[84]||(l[84]=s("br",null,null,-1)),l[85]||(l[85]=s("strong",null,"Conclusão:",-1)),n(" "+o(d(u)(t.authorized_exit_at).format("DD-MM-YYYY H:mm")),1),l[86]||(l[86]=s("br",null,null,-1)),l[87]||(l[87]=s("strong",null,"Tempo no estado:",-1)),s("span",xl,o(m(t.authorized_exit_at)),1)])]))),256))]),s("div",Ml,[l[101]||(l[101]=s("h4",{class:"mb-3"}," Saída ",-1)),(r(!0),e(i,null,p(F.value,t=>(r(),e("div",ql,[s("div",Yl,[l[90]||(l[90]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[91]||(l[91]=s("br",null,null,-1)),l[92]||(l[92]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[93]||(l[93]=s("br",null,null,-1)),l[94]||(l[94]=s("strong",null,"Equipamento:",-1)),l[95]||(l[95]=n()),g(d(v),{to:{name:"supervisor.movements.show",params:{id:t.id}}},{default:f(()=>[n(o(t.equipment.name)+" ",1),l[89]||(l[89]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[89]},1032,["to"]),l[96]||(l[96]=n()),l[97]||(l[97]=s("br",null,null,-1)),l[98]||(l[98]=s("strong",null,"Saída:",-1)),n(" "+o(d(u)(t.exit_time).format("DD-MM-YYYY H:mm")),1),l[99]||(l[99]=s("br",null,null,-1)),l[100]||(l[100]=s("strong",null,"Tempo no estado:",-1)),s("span",Dl,o(m(t.exit_time)),1)])]))),256))])])])])]),l[103]||(l[103]=s("div",{class:"modal fade modal-notif modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog modal-sm",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Notifications "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body"},[s("div",{class:"list-group list-group-flush my-n3"},[s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-box fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Package has uploaded successfull")]),s("div",{class:"my-0 text-muted small"}," Package is zipped and uploaded "),s("small",{class:"badge badge-pill badge-light text-muted"},"1m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-download fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Widgets are updated successfull")]),s("div",{class:"my-0 text-muted small"}," Just create new layout Index, form, table "),s("small",{class:"badge badge-pill badge-light text-muted"},"2m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-inbox fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Notifications have been sent")]),s("div",{class:"my-0 text-muted small"}," Fusce dapibus, tellus ac cursus commodo "),s("small",{class:"badge badge-pill badge-light text-muted"},"30m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-link fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Link was attached to menu")]),s("div",{class:"my-0 text-muted small"}," New layout has been attached to the menu "),s("small",{class:"badge badge-pill badge-light text-muted"},"1h ago")])])])])]),s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary btn-block","data-dismiss":"modal"}," Clear All ")])])])],-1)),l[104]||(l[104]=s("div",{class:"modal fade modal-shortcut modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Shortcuts "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body px-5"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-success justify-content-center"},[s("i",{class:"fe fe-cpu fe-32 align-self-center text-white"})]),s("p",null,"Control area")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-activity fe-32 align-self-center text-white"})]),s("p",null,"Activity")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-droplet fe-32 align-self-center text-white"})]),s("p",null,"Droplet")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-upload-cloud fe-32 align-self-center text-white"})]),s("p",null,"Upload")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-users fe-32 align-self-center text-white"})]),s("p",null,"Users")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-settings fe-32 align-self-center text-white"})]),s("p",null,"Settings")])])])])])],-1))],64))}};export{Tl as default};
