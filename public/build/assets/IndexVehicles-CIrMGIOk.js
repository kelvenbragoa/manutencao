import{h as x,u as D,r as a,i as N,j as V,c as o,a as n,b as t,d as z,m,n as _,f,p as d,R as g,F as A,l as B,t as l,g as M}from"./app-B2f5Ay6s.js";import{d as R,h as j}from"./moment-D4kkntM3.js";const Y={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},E={key:1},L={class:"container-fluid"},P={class:"row justify-content-center"},S={class:"col-12"},T={class:"row align-items-center my-4"},C={class:"col-auto"},F={class:"card shadow"},$={class:"card-body"},q={class:"table table-bordered table-hover"},H={class:"mb-0"},I={class:"mb-0"},Q={class:"mb-0"},U={class:"mb-0"},G={class:"mb-0"},J={class:"dropdown-menu dropdown-menu-right"},K={class:"dropdown-item",href:"#"},Z={__name:"IndexVehicles",setup(O){const c=x(),v=D();a(null);const r=a(!0);a(!1),a(null);const u=a(""),i=a(null),b=a(1);a(15);const y=a(0);a(!1),a();function k(){c&&c.back()}const p=async(h=1)=>{M.get(`/api/vehicles?page=${h}`,{params:{query:u.value}}).then(s=>{i.value=s.data,y.value=s.data.total,r.value=!1,console.log(i.value)}).catch(s=>{r.value=!1,v.error(`${s}`),k()})},w=R(()=>{p(b.value)},300);return N(u,w),V(()=>{p()}),(h,s)=>r.value?(n(),o("div",Y,s[0]||(s[0]=[t("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(n(),o("div",E,[t("div",L,[t("div",P,[t("div",S,[t("div",T,[s[2]||(s[2]=t("div",{class:"col"},[t("h2",{class:"h3 mb-0 page-title"},"Veículos")],-1)),t("div",C,[m(d(g),{class:"btn btn-primary",to:"/area/vehicles/create"},{default:_(()=>s[1]||(s[1]=[t("span",{class:"fe fe-filter fe-12 mr-2"},null,-1),f("Criar ",-1)])),_:1,__:[1]})])]),t("div",F,[t("div",$,[t("table",q,[s[6]||(s[6]=t("thead",null,[t("tr",null,[t("th",null,"Matrícula"),t("th",null,"Marca"),t("th",null,"Nome"),t("th",null,"Estado"),t("th",null,"Data"),t("th",null,"Ação")])],-1)),t("tbody",null,[(n(!0),o(A,null,B(i.value.data,e=>(n(),o("tr",null,[t("td",null,[t("p",H,l(e.plate_number),1)]),t("td",null,[t("p",I,l(e.make),1)]),t("td",null,[t("p",Q,l(e.owner),1)]),t("td",null,[t("p",U,l(e.status==1?"Autorizado":"Não Autorizado"),1)]),t("td",null,[t("p",G,l(d(j)(e.created_at).format("DD-MM-YYYY H:mm")),1)]),t("td",null,[s[5]||(s[5]=t("button",{class:"btn btn-sm dropdown-toggle more-horizontal",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted sr-only"},"Action")],-1)),t("div",J,[m(d(g),{class:"dropdown-item",to:"/area/vehicles/"+e.id+"/edit"},{default:_(()=>s[3]||(s[3]=[f("Editar",-1)])),_:2,__:[3]},1032,["to"]),s[4]||(s[4]=t("a",{class:"dropdown-item",href:"#"},"Remover",-1)),t("a",K,l(e.status==1?"Desautorizar":"Autorizar"),1)])])]))),256))])])])]),s[7]||(s[7]=z('<nav aria-label="Table Paging" class="my-3"><ul class="pagination justify-content-end mb-0"><li class="page-item"><a class="page-link" href="#">Previous</a></li><li class="page-item active"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#">Next</a></li></ul></nav>',1))])])])]))}};export{Z as default};
