import{h as E,u as N,r as e,i as z,j as A,k as B,c as d,a as r,b as s,d as F,F as b,l as D,f as a,t as n,m as $,g as C}from"./app-AxOONh59.js";import{d as T,h as u}from"./moment-D4kkntM3.js";const U={class:"container-fluid"},H={class:"row justify-content-center"},I={class:"col-12"},P={class:"row"},V={class:"col-md-6"},R={class:"card shadow mb-3"},J={class:"card-body"},Q={class:"badge badge-dark"},W=["onClick"],G={class:"col-md-6"},K={class:"card shadow mb-3"},O={class:"card-body"},X={class:"badge badge-dark"},Z=["onClick"],ts={__name:"Dashboard",setup(_){let p;const v=E(),m=N();e(null);const y=e(!0);e(!1),e(null);const x=e(""),S=e(null),j=e(1);e(15),e(0),e(!1),e();const w=e([]),k=e([]);function Y(){v&&v.back()}const c=async(o=1)=>{C.get("/api/dashboard",{params:{query:x.value}}).then(l=>{k.value=l.data.out,w.value=l.data.in,y.value=!1,console.log(S.value)}).catch(l=>{y.value=!1,m.error(`${l}`),Y()})},q=o=>{const l=u(),t=u(o),i=u.duration(l.diff(t)),M=Math.floor(i.asDays()),f=Math.floor(i.asHours()%24),g=Math.floor(i.asMinutes()%60);return M>0?`${M}d ${f}h ${g}m`:f>0?`${f}h ${g}m`:`${g}m`},h=o=>{C.post(`/api/nextstage/${o}`).then(()=>{c(),m.success("Sucesso")}).catch(l=>{m.error(`${l}`)}).finally(()=>{})},L=T(()=>{c(j.value)},300);return z(x,L),A(()=>{c(),p=setInterval(()=>{c()},1e4)}),B(()=>{clearInterval(p)}),(o,l)=>(r(),d(b,null,[s("div",U,[s("div",H,[s("div",I,[l[26]||(l[26]=F('<div class="row align-items-center mb-2"><div class="col"><h2 class="h5 page-title">Cornelder</h2></div><div class="col-auto"><form class="form-inline"><div class="form-group d-none d-lg-inline"><label for="reportrange" class="sr-only">Date Ranges</label><div id="reportrange" class="px-2 py-2 text-muted"><span class="small"></span></div></div><div class="form-group"><button type="button" class="btn btn-sm"><span class="fe fe-refresh-ccw fe-16 text-muted"></span></button><button type="button" class="btn btn-sm mr-2"><span class="fe fe-filter fe-16 text-muted"></span></button></div></form></div></div>',1)),s("div",P,[s("div",V,[l[12]||(l[12]=s("h4",{class:"mb-3",style:{color:"green"}}," Equipamentos Autorizadas - Entrada ",-1)),(r(!0),d(b,null,D(w.value,t=>(r(),d("div",R,[s("div",J,[l[1]||(l[1]=s("strong",null,"Matrícula:",-1)),a(" "+n(t.plate_number)+" ",1),l[2]||(l[2]=s("br",null,null,-1)),l[3]||(l[3]=s("strong",null,"Frota:",-1)),a(" "+n(t.equipment.fleet.name)+" ",1),l[4]||(l[4]=s("br",null,null,-1)),l[5]||(l[5]=s("strong",null,"Equipamento:",-1)),a(" "+n(t.equipment.name)+" ",1),l[6]||(l[6]=s("br",null,null,-1)),l[7]||(l[7]=s("strong",null,"Saída:",-1)),a(" "+n($(u)(t.approved_at).format("DD-MM-YYYY H:mm")),1),l[8]||(l[8]=s("br",null,null,-1)),l[9]||(l[9]=s("strong",null,"Tempo no estado:",-1)),s("span",Q,n(q(t.approved_at)),1),l[10]||(l[10]=a()),l[11]||(l[11]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>h(t.id)},l[0]||(l[0]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,W)])]))),256))]),s("div",G,[l[25]||(l[25]=s("h4",{class:"mb-3",style:{color:"red"}}," Equipamentos Autorizadas - Saída ",-1)),(r(!0),d(b,null,D(k.value,t=>(r(),d("div",K,[s("div",O,[l[14]||(l[14]=s("strong",null,"Matrícula:",-1)),a(" "+n(t.plate_number)+" ",1),l[15]||(l[15]=s("br",null,null,-1)),l[16]||(l[16]=s("strong",null,"Frota:",-1)),a(" "+n(t.equipment.fleet.name)+" ",1),l[17]||(l[17]=s("br",null,null,-1)),l[18]||(l[18]=s("strong",null,"Equipamento:",-1)),a(" "+n(t.equipment.name)+" ",1),l[19]||(l[19]=s("br",null,null,-1)),l[20]||(l[20]=s("strong",null,"Saída:",-1)),a(" "+n($(u)(t.exit_requested_at).format("DD-MM-YYYY H:mm")),1),l[21]||(l[21]=s("br",null,null,-1)),l[22]||(l[22]=s("strong",null,"Tempo no estado:",-1)),s("span",X,n(q(t.exit_requested_at)),1),l[23]||(l[23]=a()),l[24]||(l[24]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>h(t.id)},l[13]||(l[13]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,Z)])]))),256))])])])])]),l[27]||(l[27]=s("div",{class:"modal fade modal-notif modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog modal-sm",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Notifications "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body"},[s("div",{class:"list-group list-group-flush my-n3"},[s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-box fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Package has uploaded successfull")]),s("div",{class:"my-0 text-muted small"}," Package is zipped and uploaded "),s("small",{class:"badge badge-pill badge-light text-muted"},"1m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-download fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Widgets are updated successfull")]),s("div",{class:"my-0 text-muted small"}," Just create new layout Index, form, table "),s("small",{class:"badge badge-pill badge-light text-muted"},"2m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-inbox fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Notifications have been sent")]),s("div",{class:"my-0 text-muted small"}," Fusce dapibus, tellus ac cursus commodo "),s("small",{class:"badge badge-pill badge-light text-muted"},"30m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-link fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Link was attached to menu")]),s("div",{class:"my-0 text-muted small"}," New layout has been attached to the menu "),s("small",{class:"badge badge-pill badge-light text-muted"},"1h ago")])])])])]),s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary btn-block","data-dismiss":"modal"}," Clear All ")])])])],-1)),l[28]||(l[28]=s("div",{class:"modal fade modal-shortcut modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Shortcuts "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body px-5"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-success justify-content-center"},[s("i",{class:"fe fe-cpu fe-32 align-self-center text-white"})]),s("p",null,"Control area")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-activity fe-32 align-self-center text-white"})]),s("p",null,"Activity")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-droplet fe-32 align-self-center text-white"})]),s("p",null,"Droplet")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-upload-cloud fe-32 align-self-center text-white"})]),s("p",null,"Upload")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-users fe-32 align-self-center text-white"})]),s("p",null,"Users")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-settings fe-32 align-self-center text-white"})]),s("p",null,"Settings")])])])])])],-1))],64))}};export{ts as default};
