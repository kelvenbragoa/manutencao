import{h as f,u as y,r as t,i as k,j as w,c as o,a as i,b as a,d as x,F as D,l as M,t as l,x as q,p as B,g as j}from"./app-DMvC9aVn.js";import{d as S,h as Y}from"./moment-D4kkntM3.js";const E={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},F={key:1},N={class:"container-fluid"},P={class:"row justify-content-center"},R={class:"col-12"},V={class:"card shadow"},z={class:"card-body"},A={class:"table table-bordered table-hover"},I={class:"mb-0"},L={class:"mb-0"},T={class:"mb-0"},$={class:"mb-0"},C={class:"mb-0"},H={class:"mb-0"},G={__name:"IndexMovement",setup(O){const d=f(),m=y();t(null);const r=t(!0);t(!1),t(null);const u=t(""),c=t(null),g=t(1);t(15);const h=t(0);t(!1),t();function v(n){return{1:"secondary",2:"info",3:"warning",4:"danger",5:"primary"}[n]||"secondary"}function b(){d&&d.back()}const p=async(n=1)=>{j.get(`/api/movements?page=${n}`,{params:{query:u.value}}).then(s=>{c.value=s.data,h.value=s.data.total,r.value=!1,console.log(c.value)}).catch(s=>{r.value=!1,m.error(`${s}`),b()})},_=S(()=>{p(g.value)},300);return k(u,_),w(()=>{p()}),(n,s)=>r.value?(i(),o("div",E,s[0]||(s[0]=[a("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(i(),o("div",F,[a("div",N,[a("div",P,[a("div",R,[s[3]||(s[3]=a("div",{class:"row align-items-center my-4"},[a("div",{class:"col"},[a("h2",{class:"h3 mb-0 page-title"}," Relatório de Movimentações ")]),a("div",{class:"col-auto"})],-1)),a("div",V,[a("div",z,[a("table",A,[s[2]||(s[2]=a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Equipamento"),a("th",null,"Frota"),a("th",null,"Estado"),a("th",null,"Observação"),a("th",null,"Data"),a("th",null,"Action")])],-1)),a("tbody",null,[(i(!0),o(D,null,M(c.value.data,e=>(i(),o("tr",null,[a("td",null,[a("p",I,l(e.id),1)]),a("td",null,[a("p",L,l(e.equipment.name),1)]),a("td",null,[a("p",T,l(e.equipment.fleet.name),1)]),a("td",null,[a("p",$,[a("span",{class:q(["badge","badge-"+v(e.equipment_movement_status_id)])},l(e.status.name),3)])]),a("td",null,[a("p",C,l(e.observation),1)]),a("td",null,[a("p",H,l(B(Y)(e.created_at).format("DD-MM-YYYY H:mm")),1)]),s[1]||(s[1]=a("td",null,[a("button",{class:"btn btn-sm dropdown-toggle more-horizontal",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[a("span",{class:"text-muted sr-only"},"Action")]),a("div",{class:"dropdown-menu dropdown-menu-right"},[a("a",{class:"dropdown-item",href:"#"},"Verificar")])],-1))]))),256))])])])]),s[4]||(s[4]=x('<nav aria-label="Table Paging" class="my-3"><ul class="pagination justify-content-end mb-0"><li class="page-item"><a class="page-link" href="#">Previous</a></li><li class="page-item active"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#">Next</a></li></ul></nav>',1))])])])]))}};export{G as default};
