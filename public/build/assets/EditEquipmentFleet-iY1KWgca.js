import{u as D,h as E,r as t,g as h,i as S,j as $,c as g,a as y,b as s,w as M,v as R,p as d,q as j}from"./app-DAvsvyGq.js";import{c as C,a as T,u as L}from"./index.esm-0LTzHNPb.js";import{d as N}from"./moment-D4kkntM3.js";const U={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},V={key:1},O={class:"container-fluid"},P={class:"row justify-content-center"},Q={class:"col-12 col-xl-10"},z={class:"form-row"},A={class:"form-group col-md-6"},G={class:"form-row"},H={class:"col-md-6"},I=["disabled"],ee={__name:"EditEquipmentFleet",setup(J){const r=D(),a=E();t(null);const i=t(!0);t(!1),t(null);const c=t(""),m=t(null),_=t(1);t(15),t(0),t(!1),t(null);const o=t(!1);t([{label:"Masculino",value:"male"},{label:"Feminino",value:"female"},{label:"Outro",value:"other"}]);const k=C({name:T().required().trim().label("Name")}),{defineField:v,handleSubmit:q,resetForm:K,errors:W,setErrors:w}=L({validationSchema:k}),[l]=v("name"),[x]=v("_method"),p=t();function F(){a&&a.back()}const f=q(n=>{p.value!=null&&(n.image=p.value),o.value=!0,h.post(`/api/equipmentfleet/${a.currentRoute.value.params.id}`,n,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{a.back(),r.success("Successo")}).catch(e=>{o.value=!1,r.error(`${e.response.data.message}`),e.response.data.errors&&w(e.response.data.errors)}).finally(()=>{o.value=!1})}),b=async(n=1)=>{h.get(`/api/equipmentfleet/${a.currentRoute.value.params.id}/edit`,{params:{query:c.value}}).then(e=>{m.value=e.data.equipment,l.value=m.value.name,x.value="put",i.value=!1}).catch(e=>{i.value=!1,r.add({severity:"error",summary:`${e}`,detail:"Message Detail",life:3e3}),F()})},B=N(()=>{b(_.value)},300);return S(c,B),$(()=>{b()}),(n,e)=>i.value?(y(),g("div",U,e[2]||(e[2]=[s("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(y(),g("div",V,[s("div",O,[s("div",P,[s("div",Q,[e[7]||(e[7]=s("div",{class:"row align-items-center my-4"},[s("div",{class:"col"},[s("h2",{class:"h3 mb-0 page-title"},"Criar Frotas")])],-1)),s("form",null,[e[4]||(e[4]=s("hr",{class:"my-4"},null,-1)),e[5]||(e[5]=s("h5",{class:"mb-2 mt-4"},"Dados",-1)),e[6]||(e[6]=s("p",{class:"mb-4"},"Espaço para lançar Frotas",-1)),s("div",z,[s("div",A,[e[3]||(e[3]=s("label",{for:"firstname"},"Equipamento",-1)),M(s("input",{type:"text",id:"firstname","onUpdate:modelValue":e[0]||(e[0]=u=>j(l)?l.value=u:null),class:"form-control"},null,512),[[R,d(l)]])])]),s("div",G,[s("div",H,[s("button",{type:"button",onClick:e[1]||(e[1]=(...u)=>d(f)&&d(f)(...u)),disabled:o.value,class:"btn btn-primary"},"Salvar",8,I)])])])])])])]))}};export{ee as default};
