import{h as x,u as D,r as a,i as N,j as B,c as o,a as n,b as s,d as R,m as h,n as f,f as g,p as d,R as v,F as j,l as V,t as l,g as Y}from"./app-Bo-mmtk3.js";import{d as A,h as E}from"./moment-D4kkntM3.js";const L={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},M={key:1},P={class:"container-fluid"},S={class:"row justify-content-center"},T={class:"col-12"},U={class:"row align-items-center my-4"},C={class:"col-auto"},F={class:"card shadow"},I={class:"card-body"},$={class:"table table-bordered table-hover"},q={class:"mb-0"},z={class:"mb-0"},H={class:"mb-0"},Q={class:"mb-0"},G={class:"mb-0"},J={class:"dropdown-menu dropdown-menu-right"},K={class:"dropdown-item",href:"#"},Z={__name:"IndexUser",setup(O){const c=x(),_=D();a(null);const r=a(!0);a(!1),a(null);const u=a(""),i=a(null),b=a(1);a(15);const y=a(0);a(!1),a();function k(){c&&c.back()}const p=async(m=1)=>{Y.get(`/api/user?page=${m}`,{params:{query:u.value}}).then(t=>{i.value=t.data,y.value=t.data.total,r.value=!1,console.log(i.value)}).catch(t=>{r.value=!1,_.error(`${t}`),k()})},w=A(()=>{p(b.value)},300);return N(u,w),B(()=>{p()}),(m,t)=>r.value?(n(),o("div",L,t[0]||(t[0]=[s("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(n(),o("div",M,[s("div",P,[s("div",S,[s("div",T,[s("div",U,[t[2]||(t[2]=s("div",{class:"col"},[s("h2",{class:"h3 mb-0 page-title"},"UsuÃ¡rios")],-1)),s("div",C,[h(d(v),{class:"btn btn-primary",to:"/ocorrencia/user/create"},{default:f(()=>t[1]||(t[1]=[s("span",{class:"fe fe-filter fe-12 mr-2"},null,-1),g("Criar ",-1)])),_:1,__:[1]})])]),s("div",F,[s("div",I,[s("table",$,[t[6]||(t[6]=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Nome"),s("th",null,"Email"),s("th",null,"Nivel"),s("th",null,"Data"),s("th",null,"Action")])],-1)),s("tbody",null,[(n(!0),o(j,null,V(i.value.data,e=>(n(),o("tr",null,[s("td",null,[s("p",q,l(e.id),1)]),s("td",null,[s("p",z,l(e.name),1)]),s("td",null,[s("p",H,l(e.email),1)]),s("td",null,[s("p",Q,l(e.role.name),1)]),s("td",null,[s("p",G,l(d(E)(e.created_at).format("DD-MM-YYYY H:mm")),1)]),s("td",null,[t[5]||(t[5]=s("button",{class:"btn btn-sm dropdown-toggle more-horizontal",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[s("span",{class:"text-muted sr-only"},"Action")],-1)),s("div",J,[h(d(v),{class:"dropdown-item",to:"/ocorrencia/user/"+e.id+"/edit"},{default:f(()=>t[3]||(t[3]=[g("Editar",-1)])),_:2,__:[3]},1032,["to"]),t[4]||(t[4]=s("a",{class:"dropdown-item",href:"#"},"Remover",-1)),s("a",K,l(e.status==1?"Desativar":"Ativar"),1)])])]))),256))])])])]),t[7]||(t[7]=R('<nav aria-label="Table Paging" class="my-3"><ul class="pagination justify-content-end mb-0"><li class="page-item"><a class="page-link" href="#">Previous</a></li><li class="page-item active"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#">Next</a></li></ul></nav>',1))])])])]))}};export{Z as default};
