import{h as y,u as k,r as s,i as w,j as x,c as o,a as i,b as a,d as D,F as M,l as q,t as l,x as B,m as p,n as N,p as R,f as V,R as j,g as S}from"./app-CkKbduy8.js";import{h as Y}from"./moment-BLMuvzoS.js";import{d as E}from"./debounce-BMmXVQ06.js";const F={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},L={key:1},P={class:"container-fluid"},T={class:"row justify-content-center"},z={class:"col-12"},A={class:"card shadow"},C={class:"card-body"},I={class:"table table-bordered table-hover"},$={class:"mb-0"},H={class:"mb-0"},O={class:"mb-0"},Q={class:"mb-0"},U={class:"mb-0"},G={class:"mb-0"},J={class:"dropdown-menu dropdown-menu-right"},aa={__name:"IndexMovement",setup(K){const c=y(),g=k();s(null);const r=s(!0);s(!1),s(null);const u=s(""),d=s(null),h=s(1);s(15);const v=s(0);s(!1),s();function _(n){return{1:"secondary",2:"info",3:"warning",4:"danger",5:"primary"}[n]||"secondary"}function f(){c&&c.back()}const m=async(n=1)=>{S.get(`/api/movements?page=${n}`,{params:{query:u.value}}).then(t=>{d.value=t.data,v.value=t.data.total,r.value=!1,console.log(d.value)}).catch(t=>{r.value=!1,g.error(`${t}`),f()})},b=E(()=>{m(h.value)},300);return w(u,b),x(()=>{m()}),(n,t)=>r.value?(i(),o("div",F,t[0]||(t[0]=[a("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(i(),o("div",L,[a("div",P,[a("div",T,[a("div",z,[t[4]||(t[4]=a("div",{class:"row align-items-center my-4"},[a("div",{class:"col"},[a("h2",{class:"h3 mb-0 page-title"}," Relatório de Movimentações ")]),a("div",{class:"col-auto"})],-1)),a("div",A,[a("div",C,[a("table",I,[t[3]||(t[3]=a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Equipamento"),a("th",null,"Frota"),a("th",null,"Estado"),a("th",null,"Observação"),a("th",null,"Data"),a("th",null,"Action")])],-1)),a("tbody",null,[(i(!0),o(M,null,q(d.value.data,e=>(i(),o("tr",null,[a("td",null,[a("p",$,l(e.id),1)]),a("td",null,[a("p",H,l(e.equipment.name),1)]),a("td",null,[a("p",O,l(e.equipment.fleet.name),1)]),a("td",null,[a("p",Q,[a("span",{class:B(["badge","badge-"+_(e.equipment_movement_status_id)])},l(e.status.name),3)])]),a("td",null,[a("p",U,l(e.observation),1)]),a("td",null,[a("p",G,l(p(Y)(e.created_at).format("DD-MM-YYYY H:mm")),1)]),a("td",null,[t[2]||(t[2]=a("button",{class:"btn btn-sm dropdown-toggle more-horizontal",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[a("span",{class:"text-muted sr-only"},"Action")],-1)),a("div",J,[N(p(j),{class:"dropdown-item",to:{name:"admin.movements.show",params:{id:e.id}}},{default:R(()=>t[1]||(t[1]=[V("Verificar",-1)])),_:2,__:[1]},1032,["to"])])])]))),256))])])])]),t[5]||(t[5]=D('<nav aria-label="Table Paging" class="my-3"><ul class="pagination justify-content-end mb-0"><li class="page-item"><a class="page-link" href="#">Previous</a></li><li class="page-item active"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#">Next</a></li></ul></nav>',1))])])])]))}};export{aa as default};
