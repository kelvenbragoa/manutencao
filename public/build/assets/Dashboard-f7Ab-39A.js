import{h as U,u as V,r as a,i as P,j as J,k as O,c as e,a as r,b as s,d as Q,F as m,l as f,f as n,n as g,t as o,p,m as d,R as v,g as A}from"./app-CkKbduy8.js";import{h as u}from"./moment-BLMuvzoS.js";import{d as W}from"./debounce-BMmXVQ06.js";const G={class:"container-fluid"},K={class:"row justify-content-center"},X={class:"col-12"},Z={class:"row"},c={class:"col-md-2"},_={class:"card shadow mb-3"},h={class:"card-body"},ll={class:"badge badge-warning"},sl=["onClick"],tl={class:"col-md-2"},nl={class:"card shadow mb-3"},ol={class:"card-body"},al={class:"badge badge-info"},el=["onClick"],rl={class:"col-md-2"},dl={class:"card shadow mb-3"},ul={class:"card-body"},il={class:"badge badge-primary"},ml=["onClick"],bl={class:"col-md-2"},fl={class:"card shadow mb-3"},gl={class:"card-body"},pl={class:"badge badge-danger"},vl=["onClick"],yl={class:"col-md-2"},wl={class:"card shadow mb-3"},xl={class:"card-body"},Ml={class:"badge badge-secondary"},ql=["onClick"],Yl={class:"col-md-1"},kl={class:"card shadow mb-3"},Dl={class:"card-body"},Cl={class:"badge badge-success"},El={class:"col-md-1"},$l={class:"card shadow mb-3"},Fl={class:"card-body"},Tl={class:"badge badge-dark"},Sl={__name:"Dashboard",setup(jl){let k;const D=U(),M=V();a(null);const C=a(!0);a(!1),a(null);const E=a(""),z=a(null),B=a(1);a(15),a(0),a(!1),a();const $=a([]),F=a([]),T=a([]),j=a([]),H=a([]),L=a([]),N=a([]),y=w=>{A.post(`/api/nextstage/${w}`).then(()=>{x(),M.success("Sucesso")}).catch(l=>{M.error(`${l}`)}).finally(()=>{})};function I(){D&&D.back()}const x=async(w=1)=>{A.get("/api/dashboard",{params:{query:E.value}}).then(l=>{F.value=l.data.out,$.value=l.data.in,T.value=l.data.oficina,j.value=l.data.em_manutencao,N.value=l.data.inspecao,L.value=l.data.concluida,H.value=l.data.aguardaaprovacao,C.value=!1,console.log(z.value)}).catch(l=>{C.value=!1,M.error(`${l}`),I()})},R=W(()=>{x(B.value)},300),b=w=>{const l=u(),t=u(w),i=u.duration(l.diff(t)),S=Math.floor(i.asDays()),q=Math.floor(i.asHours()%24),Y=Math.floor(i.asMinutes()%60);return S>0?`${S}d ${q}h ${Y}m`:q>0?`${q}h ${Y}m`:`${Y}m`};return P(E,R),J(()=>{x(),k=setInterval(()=>{x()},1e4)}),O(()=>{clearInterval(k)}),(w,l)=>(r(),e(m,null,[s("div",G,[s("div",K,[s("div",X,[l[106]||(l[106]=Q('<div class="row align-items-center mb-2"><div class="col"><h2 class="h5 page-title">Cornelder</h2></div><div class="col-auto"><form class="form-inline"><div class="form-group d-none d-lg-inline"><label for="reportrange" class="sr-only">Date Ranges</label><div id="reportrange" class="px-2 py-2 text-muted"><span class="small"></span></div></div><div class="form-group"><button type="button" class="btn btn-sm"><span class="fe fe-refresh-ccw fe-16 text-muted"></span></button><button type="button" class="btn btn-sm mr-2"><span class="fe fe-filter fe-16 text-muted"></span></button></div></form></div></div>',1)),s("div",Z,[s("div",c,[l[15]||(l[15]=s("h4",{class:"mb-3"}," Aguarda Aprovação ",-1)),(r(!0),e(m,null,f(H.value,t=>(r(),e("div",_,[s("div",h,[l[2]||(l[2]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[3]||(l[3]=s("br",null,null,-1)),l[4]||(l[4]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[5]||(l[5]=s("br",null,null,-1)),l[6]||(l[6]=s("strong",null,"Equipamento:",-1)),l[7]||(l[7]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[0]||(l[0]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[0]},1032,["to"]),l[8]||(l[8]=n()),l[9]||(l[9]=s("br",null,null,-1)),l[10]||(l[10]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.entry_time).format("DD-MM-YYYY H:mm")),1),l[11]||(l[11]=s("br",null,null,-1)),l[12]||(l[12]=s("strong",null,"Tempo no estado:",-1)),s("span",ll,o(b(t.entry_time)),1),l[13]||(l[13]=s("br",null,null,-1)),l[14]||(l[14]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>y(t.id)},l[1]||(l[1]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,sl)])]))),256))]),s("div",tl,[l[31]||(l[31]=s("h4",{class:"mb-3"}," Aguardando Entrada ",-1)),(r(!0),e(m,null,f($.value,t=>(r(),e("div",nl,[s("div",ol,[l[18]||(l[18]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[19]||(l[19]=s("br",null,null,-1)),l[20]||(l[20]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[21]||(l[21]=s("br",null,null,-1)),l[22]||(l[22]=s("strong",null,"Equipamento:",-1)),l[23]||(l[23]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[16]||(l[16]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[16]},1032,["to"]),l[24]||(l[24]=n()),l[25]||(l[25]=s("br",null,null,-1)),l[26]||(l[26]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.approved_at).format("DD-MM-YYYY H:mm")),1),l[27]||(l[27]=s("br",null,null,-1)),l[28]||(l[28]=s("strong",null,"Tempo no estado:",-1)),s("span",al,o(b(t.approved_at)),1),l[29]||(l[29]=s("br",null,null,-1)),l[30]||(l[30]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>y(t.id)},l[17]||(l[17]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,el)])]))),256))]),s("div",rl,[l[47]||(l[47]=s("h4",{class:"mb-3"}," Na Oficina ",-1)),(r(!0),e(m,null,f(T.value,t=>(r(),e("div",dl,[s("div",ul,[l[34]||(l[34]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[35]||(l[35]=s("br",null,null,-1)),l[36]||(l[36]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[37]||(l[37]=s("br",null,null,-1)),l[38]||(l[38]=s("strong",null,"Equipamento:",-1)),l[39]||(l[39]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[32]||(l[32]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[32]},1032,["to"]),l[40]||(l[40]=n()),l[41]||(l[41]=s("br",null,null,-1)),l[42]||(l[42]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.in_maintenance_at).format("DD-MM-YYYY H:mm")),1),l[43]||(l[43]=s("br",null,null,-1)),l[44]||(l[44]=s("strong",null,"Tempo no estado:",-1)),s("span",il,o(b(t.in_maintenance_at)),1),l[45]||(l[45]=s("br",null,null,-1)),l[46]||(l[46]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>y(t.id)},l[33]||(l[33]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,ml)])]))),256))]),s("div",bl,[l[63]||(l[63]=s("h4",{class:"mb-3"}," Em Manutenção ",-1)),(r(!0),e(m,null,f(j.value,t=>(r(),e("div",fl,[s("div",gl,[l[50]||(l[50]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[51]||(l[51]=s("br",null,null,-1)),l[52]||(l[52]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[53]||(l[53]=s("br",null,null,-1)),l[54]||(l[54]=s("strong",null,"Equipamento:",-1)),l[55]||(l[55]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[48]||(l[48]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[48]},1032,["to"]),l[56]||(l[56]=n()),l[57]||(l[57]=s("br",null,null,-1)),l[58]||(l[58]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.maintenance_done_at).format("DD-MM-YYYY H:mm")),1),l[59]||(l[59]=s("br",null,null,-1)),l[60]||(l[60]=s("strong",null,"Tempo no estado:",-1)),s("span",pl,o(b(t.maintenance_done_at)),1),l[61]||(l[61]=s("br",null,null,-1)),l[62]||(l[62]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>y(t.id)},l[49]||(l[49]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,vl)])]))),256))]),s("div",yl,[l[79]||(l[79]=s("h4",{class:"mb-3"}," Em Inspeção ",-1)),(r(!0),e(m,null,f(N.value,t=>(r(),e("div",wl,[s("div",xl,[l[66]||(l[66]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[67]||(l[67]=s("br",null,null,-1)),l[68]||(l[68]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[69]||(l[69]=s("br",null,null,-1)),l[70]||(l[70]=s("strong",null,"Equipamento:",-1)),l[71]||(l[71]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[64]||(l[64]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[64]},1032,["to"]),l[72]||(l[72]=n()),l[73]||(l[73]=s("br",null,null,-1)),l[74]||(l[74]=s("strong",null,"Entrada:",-1)),n(" "+o(d(u)(t.inspection_at).format("DD-MM-YYYY H:mm")),1),l[75]||(l[75]=s("br",null,null,-1)),l[76]||(l[76]=s("strong",null,"Tempo no estado:",-1)),s("span",Ml,o(b(t.inspection_at)),1),l[77]||(l[77]=s("br",null,null,-1)),l[78]||(l[78]=s("br",null,null,-1)),s("button",{class:"btn btn-sm btn-primary",onClick:i=>y(t.id)},l[65]||(l[65]=[s("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,ql)])]))),256))]),s("div",Yl,[l[92]||(l[92]=s("h4",{class:"mb-3"}," Concluída ",-1)),(r(!0),e(m,null,f(L.value,t=>(r(),e("div",kl,[s("div",Dl,[l[81]||(l[81]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[82]||(l[82]=s("br",null,null,-1)),l[83]||(l[83]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[84]||(l[84]=s("br",null,null,-1)),l[85]||(l[85]=s("strong",null,"Equipamento:",-1)),l[86]||(l[86]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[80]||(l[80]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[80]},1032,["to"]),l[87]||(l[87]=n()),l[88]||(l[88]=s("br",null,null,-1)),l[89]||(l[89]=s("strong",null,"Conclusão:",-1)),n(" "+o(d(u)(t.authorized_exit_at).format("DD-MM-YYYY H:mm")),1),l[90]||(l[90]=s("br",null,null,-1)),l[91]||(l[91]=s("strong",null,"Tempo no estado:",-1)),s("span",Cl,o(b(t.authorized_exit_at)),1)])]))),256))]),s("div",El,[l[105]||(l[105]=s("h4",{class:"mb-3"}," Saída ",-1)),(r(!0),e(m,null,f(F.value,t=>(r(),e("div",$l,[s("div",Fl,[l[94]||(l[94]=s("strong",null,"Matrícula:",-1)),n(" "+o(t.plate_number)+" ",1),l[95]||(l[95]=s("br",null,null,-1)),l[96]||(l[96]=s("strong",null,"Frota:",-1)),n(" "+o(t.equipment.fleet.name)+" ",1),l[97]||(l[97]=s("br",null,null,-1)),l[98]||(l[98]=s("strong",null,"Equipamento:",-1)),l[99]||(l[99]=n()),g(d(v),{to:{name:"area.movements.show",params:{id:t.id}}},{default:p(()=>[n(o(t.equipment.name)+" ",1),l[93]||(l[93]=s("i",{class:"fe fe-eye"},null,-1))]),_:2,__:[93]},1032,["to"]),l[100]||(l[100]=n()),l[101]||(l[101]=s("br",null,null,-1)),l[102]||(l[102]=s("strong",null,"Saída:",-1)),n(" "+o(d(u)(t.exit_time).format("DD-MM-YYYY H:mm")),1),l[103]||(l[103]=s("br",null,null,-1)),l[104]||(l[104]=s("strong",null,"Tempo no estado:",-1)),s("span",Tl,o(b(t.exit_time)),1)])]))),256))])])])])]),l[107]||(l[107]=s("div",{class:"modal fade modal-notif modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog modal-sm",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Notifications "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body"},[s("div",{class:"list-group list-group-flush my-n3"},[s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-box fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Package has uploaded successfull")]),s("div",{class:"my-0 text-muted small"}," Package is zipped and uploaded "),s("small",{class:"badge badge-pill badge-light text-muted"},"1m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-download fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Widgets are updated successfull")]),s("div",{class:"my-0 text-muted small"}," Just create new layout Index, form, table "),s("small",{class:"badge badge-pill badge-light text-muted"},"2m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-inbox fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Notifications have been sent")]),s("div",{class:"my-0 text-muted small"}," Fusce dapibus, tellus ac cursus commodo "),s("small",{class:"badge badge-pill badge-light text-muted"},"30m ago")])])]),s("div",{class:"list-group-item bg-transparent"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-auto"},[s("span",{class:"fe fe-link fe-24"})]),s("div",{class:"col"},[s("small",null,[s("strong",null,"Link was attached to menu")]),s("div",{class:"my-0 text-muted small"}," New layout has been attached to the menu "),s("small",{class:"badge badge-pill badge-light text-muted"},"1h ago")])])])])]),s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary btn-block","data-dismiss":"modal"}," Clear All ")])])])],-1)),l[108]||(l[108]=s("div",{class:"modal fade modal-shortcut modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[s("div",{class:"modal-dialog",role:"document"},[s("div",{class:"modal-content"},[s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"defaultModalLabel"}," Shortcuts "),s("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"×")])]),s("div",{class:"modal-body px-5"},[s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-success justify-content-center"},[s("i",{class:"fe fe-cpu fe-32 align-self-center text-white"})]),s("p",null,"Control area")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-activity fe-32 align-self-center text-white"})]),s("p",null,"Activity")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-droplet fe-32 align-self-center text-white"})]),s("p",null,"Droplet")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-upload-cloud fe-32 align-self-center text-white"})]),s("p",null,"Upload")])]),s("div",{class:"row align-items-center"},[s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-users fe-32 align-self-center text-white"})]),s("p",null,"Users")]),s("div",{class:"col-6 text-center"},[s("div",{class:"squircle bg-primary justify-content-center"},[s("i",{class:"fe fe-settings fe-32 align-self-center text-white"})]),s("p",null,"Settings")])])])])])],-1))],64))}};export{Sl as default};
