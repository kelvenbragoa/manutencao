import{h,u as _,r as e,i as x,j as k,c as l,a as n,b as t,e as v,y as w,w as S,v as V,F as j,l as B,f as D,t as i,x as P,g as q}from"./app-AxOONh59.js";import{d as A}from"./moment-D4kkntM3.js";const N={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},M={key:1},R={class:"container-fluid"},T={class:"row justify-content-center"},U={class:"col-12"},$={class:"row"},z={class:"col-md-12 mb-4"},C={class:"card shadow"},F={class:"card-body"},I={class:"modal fade modal-full",tabindex:"-1",role:"dialog","aria-labelledby":"mySmallModalLabel","aria-hidden":"true"},L={class:"modal-dialog modal-dialog-centered",role:"document"},E={class:"modal-content"},Q={class:"modal-body text-center"},G={key:0,class:"mt-3"},H={class:"list-group"},J=["src"],K={key:0,class:"list-group-item text-muted"},Y={__name:"IndexVehicles",setup(O){const c=h(),g=_();e(null);const d=e(!0);e(!1),e(null);const r=e(""),o=e(null),b=e(1);e(15);const p=e(0);e(!1),e();function f(){c&&c.back()}const u=async(m=1)=>{q.get(`/api/vehicles?page=${m}`,{params:{query:r.value}}).then(a=>{o.value=a.data,p.value=a.data.total,d.value=!1,console.log(o.value)}).catch(a=>{d.value=!1,g.error(`${a}`),f()})},y=A(()=>{u(b.value)},300);return x(r,y),k(()=>{u()}),(m,a)=>d.value?(n(),l("div",N,a[3]||(a[3]=[t("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(n(),l("div",M,[t("div",R,[t("div",T,[t("div",U,[a[9]||(a[9]=t("h2",{class:"page-title"},"PESQUISAR VIATURA",-1)),a[10]||(a[10]=t("p",{class:"lead text-muted"}," Pesquise a viatura clicando no Botão a baixo ",-1)),t("div",$,[t("div",z,[t("div",C,[t("div",F,[a[7]||(a[7]=t("h5",{class:"card-title"},"Pesquisar por viatura",-1)),a[8]||(a[8]=t("button",{type:"button",class:"btn mb-2 btn-primary","data-toggle":"modal","data-target":".modal-full"},"Viatura",-1)),t("div",I,[a[6]||(a[6]=t("button",{"aria-label":"",type:"button",class:"close px-2","data-dismiss":"modal","aria-hidden":"true"},[t("span",{"aria-hidden":"true"},"×")],-1)),t("div",L,[t("div",E,[t("div",Q,[a[5]||(a[5]=t("p",null,"Digite a matrícula da viatura.",-1)),t("form",{class:"form-inline justify-content-center",onSubmit:a[2]||(a[2]=w(()=>{},["prevent"]))},[S(t("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),class:"form-control form-control-lg mr-sm-2 bg-transparent",type:"search",placeholder:"Pesquisar matrícula","aria-label":"Search",autocomplete:"off"},null,512),[[V,r.value]]),t("button",{class:"btn btn-primary btn-lg mb-2 my-2 my-sm-0",type:"button",onClick:a[1]||(a[1]=s=>u(1))},"Pesquisar")],32),o.value&&o.value.data&&r.value?(n(),l("div",G,[t("ul",H,[(n(!0),l(j,null,B(o.value.data,s=>(n(),l("li",{key:s.id,class:"list-group-item d-flex justify-content-between align-items-center"},[t("span",null,[t("strong",null,i(s.plate_number),1),D(" - "+i(s.make)+" - "+i(s.owner)+" ",1),a[4]||(a[4]=t("br",null,null,-1)),t("span",{class:P(["badge",s.status==1?"badge-success":"badge-danger"])},i(s.status==1?"Autorizado":"Não Autorizado"),3)]),t("img",{src:`/storage/${s.image}`,alt:"Foto da viatura",class:"img-thumbnail",style:{width:"120px",height:"100px","object-fit":"cover"}},null,8,J)]))),128)),o.value.data.length===0?(n(),l("li",K,"Nenhum resultado encontrado.")):v("",!0)])])):v("",!0)])])])])])])])])])])])]))}};export{Y as default};
