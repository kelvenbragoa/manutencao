import{h as z,u as B,r as a,i as I,j as U,k as P,c as e,a as r,b as l,d as V,F as i,l as b,f as o,t as n,m as g,g as H}from"./app-AxOONh59.js";import{d as R,h as d}from"./moment-D4kkntM3.js";const J={class:"container-fluid"},O={class:"row justify-content-center"},Q={class:"col-12"},W={class:"row"},G={class:"col-md-2"},K={class:"card shadow mb-3"},X={class:"card-body"},Z={class:"badge badge-warning"},h=["onClick"],_={class:"col-md-2"},ll={class:"card shadow mb-3"},sl={class:"card-body"},tl={class:"badge badge-info"},nl=["onClick"],ol={class:"col-md-2"},al={class:"card shadow mb-3"},el={class:"card-body"},rl={class:"badge badge-primary"},dl=["onClick"],ul={class:"col-md-2"},il={class:"card shadow mb-3"},ml={class:"card-body"},bl={class:"badge badge-danger"},gl=["onClick"],pl={class:"col-md-2"},fl={class:"card shadow mb-3"},vl={class:"card-body"},yl={class:"badge badge-secondary"},xl=["onClick"],wl={class:"col-md-1"},Ml={class:"card shadow mb-3"},ql={class:"card-body"},Yl={class:"badge badge-success"},cl={class:"col-md-1"},kl={class:"card shadow mb-3"},Dl={class:"card-body"},Cl={class:"badge badge-dark"},Tl={__name:"Dashboard",setup(El){let M;const q=z(),y=B();a(null);const Y=a(!0);a(!1),a(null);const c=a(""),S=a(null),L=a(1);a(15),a(0),a(!1),a();const k=a([]),D=a([]),C=a([]),E=a([]),$=a([]),F=a([]),T=a([]),p=f=>{H.post(`/api/nextstage/${f}`).then(()=>{v(),y.success("Sucesso")}).catch(s=>{y.error(`${s}`)}).finally(()=>{})};function N(){q&&q.back()}const v=async(f=1)=>{H.get("/api/dashboard",{params:{query:c.value}}).then(s=>{D.value=s.data.out,k.value=s.data.in,C.value=s.data.oficina,E.value=s.data.em_manutencao,T.value=s.data.inspecao,F.value=s.data.concluida,$.value=s.data.aguardaaprovacao,Y.value=!1,console.log(S.value)}).catch(s=>{Y.value=!1,y.error(`${s}`),N()})},A=R(()=>{v(L.value)},300),m=f=>{const s=d(),t=d(f),u=d.duration(s.diff(t)),j=Math.floor(u.asDays()),x=Math.floor(u.asHours()%24),w=Math.floor(u.asMinutes()%60);return j>0?`${j}d ${x}h ${w}m`:x>0?`${x}h ${w}m`:`${w}m`};return I(c,A),U(()=>{v(),M=setInterval(()=>{v()},1e4)}),P(()=>{clearInterval(M)}),(f,s)=>(r(),e(i,null,[l("div",J,[l("div",O,[l("div",Q,[s[85]||(s[85]=V('<div class="row align-items-center mb-2"><div class="col"><h2 class="h5 page-title">Cornelder</h2></div><div class="col-auto"><form class="form-inline"><div class="form-group d-none d-lg-inline"><label for="reportrange" class="sr-only">Date Ranges</label><div id="reportrange" class="px-2 py-2 text-muted"><span class="small"></span></div></div><div class="form-group"><button type="button" class="btn btn-sm"><span class="fe fe-refresh-ccw fe-16 text-muted"></span></button><button type="button" class="btn btn-sm mr-2"><span class="fe fe-filter fe-16 text-muted"></span></button></div></form></div></div>',1)),l("div",W,[l("div",G,[s[12]||(s[12]=l("h4",{class:"mb-3"}," Aguarda Aprovação ",-1)),(r(!0),e(i,null,b($.value,t=>(r(),e("div",K,[l("div",X,[s[1]||(s[1]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[2]||(s[2]=l("br",null,null,-1)),s[3]||(s[3]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[4]||(s[4]=l("br",null,null,-1)),s[5]||(s[5]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[6]||(s[6]=l("br",null,null,-1)),s[7]||(s[7]=l("strong",null,"Entrada:",-1)),o(" "+n(g(d)(t.entry_time).format("DD-MM-YYYY H:mm")),1),s[8]||(s[8]=l("br",null,null,-1)),s[9]||(s[9]=l("strong",null,"Tempo no estado:",-1)),l("span",Z,n(m(t.entry_time)),1),s[10]||(s[10]=l("br",null,null,-1)),s[11]||(s[11]=l("br",null,null,-1)),l("button",{class:"btn btn-sm btn-primary",onClick:u=>p(t.id)},s[0]||(s[0]=[l("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,h)])]))),256))]),l("div",_,[s[25]||(s[25]=l("h4",{class:"mb-3"}," Aguardando Entrada ",-1)),(r(!0),e(i,null,b(k.value,t=>(r(),e("div",ll,[l("div",sl,[s[14]||(s[14]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[15]||(s[15]=l("br",null,null,-1)),s[16]||(s[16]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[17]||(s[17]=l("br",null,null,-1)),s[18]||(s[18]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[19]||(s[19]=l("br",null,null,-1)),s[20]||(s[20]=l("strong",null,"Entrada:",-1)),o(" "+n(g(d)(t.approved_at).format("DD-MM-YYYY H:mm")),1),s[21]||(s[21]=l("br",null,null,-1)),s[22]||(s[22]=l("strong",null,"Tempo no estado:",-1)),l("span",tl,n(m(t.approved_at)),1),s[23]||(s[23]=l("br",null,null,-1)),s[24]||(s[24]=l("br",null,null,-1)),l("button",{class:"btn btn-sm btn-primary",onClick:u=>p(t.id)},s[13]||(s[13]=[l("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,nl)])]))),256))]),l("div",ol,[s[38]||(s[38]=l("h4",{class:"mb-3"}," Na Oficina ",-1)),(r(!0),e(i,null,b(C.value,t=>(r(),e("div",al,[l("div",el,[s[27]||(s[27]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[28]||(s[28]=l("br",null,null,-1)),s[29]||(s[29]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[30]||(s[30]=l("br",null,null,-1)),s[31]||(s[31]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[32]||(s[32]=l("br",null,null,-1)),s[33]||(s[33]=l("strong",null,"Entrada:",-1)),o(" "+n(g(d)(t.in_maintenance_at).format("DD-MM-YYYY H:mm")),1),s[34]||(s[34]=l("br",null,null,-1)),s[35]||(s[35]=l("strong",null,"Tempo no estado:",-1)),l("span",rl,n(m(t.in_maintenance_at)),1),s[36]||(s[36]=l("br",null,null,-1)),s[37]||(s[37]=l("br",null,null,-1)),l("button",{class:"btn btn-sm btn-primary",onClick:u=>p(t.id)},s[26]||(s[26]=[l("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,dl)])]))),256))]),l("div",ul,[s[51]||(s[51]=l("h4",{class:"mb-3"}," Em Manutenção ",-1)),(r(!0),e(i,null,b(E.value,t=>(r(),e("div",il,[l("div",ml,[s[40]||(s[40]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[41]||(s[41]=l("br",null,null,-1)),s[42]||(s[42]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[43]||(s[43]=l("br",null,null,-1)),s[44]||(s[44]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[45]||(s[45]=l("br",null,null,-1)),s[46]||(s[46]=l("strong",null,"Entrada:",-1)),o(" "+n(g(d)(t.maintenance_done_at).format("DD-MM-YYYY H:mm")),1),s[47]||(s[47]=l("br",null,null,-1)),s[48]||(s[48]=l("strong",null,"Tempo no estado:",-1)),l("span",bl,n(m(t.maintenance_done_at)),1),s[49]||(s[49]=l("br",null,null,-1)),s[50]||(s[50]=l("br",null,null,-1)),l("button",{class:"btn btn-sm btn-primary",onClick:u=>p(t.id)},s[39]||(s[39]=[l("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,gl)])]))),256))]),l("div",pl,[s[64]||(s[64]=l("h4",{class:"mb-3"}," Em Inspeção ",-1)),(r(!0),e(i,null,b(T.value,t=>(r(),e("div",fl,[l("div",vl,[s[53]||(s[53]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[54]||(s[54]=l("br",null,null,-1)),s[55]||(s[55]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[56]||(s[56]=l("br",null,null,-1)),s[57]||(s[57]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[58]||(s[58]=l("br",null,null,-1)),s[59]||(s[59]=l("strong",null,"Entrada:",-1)),o(" "+n(g(d)(t.inspection_at).format("DD-MM-YYYY H:mm")),1),s[60]||(s[60]=l("br",null,null,-1)),s[61]||(s[61]=l("strong",null,"Tempo no estado:",-1)),l("span",yl,n(m(t.inspection_at)),1),s[62]||(s[62]=l("br",null,null,-1)),s[63]||(s[63]=l("br",null,null,-1)),l("button",{class:"btn btn-sm btn-primary",onClick:u=>p(t.id)},s[52]||(s[52]=[l("span",{class:"fe fe-arrow-right fe-16"},null,-1)]),8,xl)])]))),256))]),l("div",wl,[s[74]||(s[74]=l("h4",{class:"mb-3"}," Concluída ",-1)),(r(!0),e(i,null,b(F.value,t=>(r(),e("div",Ml,[l("div",ql,[s[65]||(s[65]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[66]||(s[66]=l("br",null,null,-1)),s[67]||(s[67]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[68]||(s[68]=l("br",null,null,-1)),s[69]||(s[69]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[70]||(s[70]=l("br",null,null,-1)),s[71]||(s[71]=l("strong",null,"Conclusão:",-1)),o(" "+n(g(d)(t.authorized_exit_at).format("DD-MM-YYYY H:mm")),1),s[72]||(s[72]=l("br",null,null,-1)),s[73]||(s[73]=l("strong",null,"Tempo no estado:",-1)),l("span",Yl,n(m(t.authorized_exit_at)),1)])]))),256))]),l("div",cl,[s[84]||(s[84]=l("h4",{class:"mb-3"}," Saída ",-1)),(r(!0),e(i,null,b(D.value,t=>(r(),e("div",kl,[l("div",Dl,[s[75]||(s[75]=l("strong",null,"Matrícula:",-1)),o(" "+n(t.plate_number)+" ",1),s[76]||(s[76]=l("br",null,null,-1)),s[77]||(s[77]=l("strong",null,"Frota:",-1)),o(" "+n(t.equipment.fleet.name)+" ",1),s[78]||(s[78]=l("br",null,null,-1)),s[79]||(s[79]=l("strong",null,"Equipamento:",-1)),o(" "+n(t.equipment.name)+" ",1),s[80]||(s[80]=l("br",null,null,-1)),s[81]||(s[81]=l("strong",null,"Saída:",-1)),o(" "+n(g(d)(t.exit_time).format("DD-MM-YYYY H:mm")),1),s[82]||(s[82]=l("br",null,null,-1)),s[83]||(s[83]=l("strong",null,"Tempo no estado:",-1)),l("span",Cl,n(m(t.exit_time)),1)])]))),256))])])])])]),s[86]||(s[86]=l("div",{class:"modal fade modal-notif modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[l("div",{class:"modal-dialog modal-sm",role:"document"},[l("div",{class:"modal-content"},[l("div",{class:"modal-header"},[l("h5",{class:"modal-title",id:"defaultModalLabel"}," Notifications "),l("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[l("span",{"aria-hidden":"true"},"×")])]),l("div",{class:"modal-body"},[l("div",{class:"list-group list-group-flush my-n3"},[l("div",{class:"list-group-item bg-transparent"},[l("div",{class:"row align-items-center"},[l("div",{class:"col-auto"},[l("span",{class:"fe fe-box fe-24"})]),l("div",{class:"col"},[l("small",null,[l("strong",null,"Package has uploaded successfull")]),l("div",{class:"my-0 text-muted small"}," Package is zipped and uploaded "),l("small",{class:"badge badge-pill badge-light text-muted"},"1m ago")])])]),l("div",{class:"list-group-item bg-transparent"},[l("div",{class:"row align-items-center"},[l("div",{class:"col-auto"},[l("span",{class:"fe fe-download fe-24"})]),l("div",{class:"col"},[l("small",null,[l("strong",null,"Widgets are updated successfull")]),l("div",{class:"my-0 text-muted small"}," Just create new layout Index, form, table "),l("small",{class:"badge badge-pill badge-light text-muted"},"2m ago")])])]),l("div",{class:"list-group-item bg-transparent"},[l("div",{class:"row align-items-center"},[l("div",{class:"col-auto"},[l("span",{class:"fe fe-inbox fe-24"})]),l("div",{class:"col"},[l("small",null,[l("strong",null,"Notifications have been sent")]),l("div",{class:"my-0 text-muted small"}," Fusce dapibus, tellus ac cursus commodo "),l("small",{class:"badge badge-pill badge-light text-muted"},"30m ago")])])]),l("div",{class:"list-group-item bg-transparent"},[l("div",{class:"row align-items-center"},[l("div",{class:"col-auto"},[l("span",{class:"fe fe-link fe-24"})]),l("div",{class:"col"},[l("small",null,[l("strong",null,"Link was attached to menu")]),l("div",{class:"my-0 text-muted small"}," New layout has been attached to the menu "),l("small",{class:"badge badge-pill badge-light text-muted"},"1h ago")])])])])]),l("div",{class:"modal-footer"},[l("button",{type:"button",class:"btn btn-secondary btn-block","data-dismiss":"modal"}," Clear All ")])])])],-1)),s[87]||(s[87]=l("div",{class:"modal fade modal-shortcut modal-slide",tabindex:"-1",role:"dialog","aria-labelledby":"defaultModalLabel","aria-hidden":"true"},[l("div",{class:"modal-dialog",role:"document"},[l("div",{class:"modal-content"},[l("div",{class:"modal-header"},[l("h5",{class:"modal-title",id:"defaultModalLabel"}," Shortcuts "),l("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[l("span",{"aria-hidden":"true"},"×")])]),l("div",{class:"modal-body px-5"},[l("div",{class:"row align-items-center"},[l("div",{class:"col-6 text-center"},[l("div",{class:"squircle bg-success justify-content-center"},[l("i",{class:"fe fe-cpu fe-32 align-self-center text-white"})]),l("p",null,"Control area")]),l("div",{class:"col-6 text-center"},[l("div",{class:"squircle bg-primary justify-content-center"},[l("i",{class:"fe fe-activity fe-32 align-self-center text-white"})]),l("p",null,"Activity")])]),l("div",{class:"row align-items-center"},[l("div",{class:"col-6 text-center"},[l("div",{class:"squircle bg-primary justify-content-center"},[l("i",{class:"fe fe-droplet fe-32 align-self-center text-white"})]),l("p",null,"Droplet")]),l("div",{class:"col-6 text-center"},[l("div",{class:"squircle bg-primary justify-content-center"},[l("i",{class:"fe fe-upload-cloud fe-32 align-self-center text-white"})]),l("p",null,"Upload")])]),l("div",{class:"row align-items-center"},[l("div",{class:"col-6 text-center"},[l("div",{class:"squircle bg-primary justify-content-center"},[l("i",{class:"fe fe-users fe-32 align-self-center text-white"})]),l("p",null,"Users")]),l("div",{class:"col-6 text-center"},[l("div",{class:"squircle bg-primary justify-content-center"},[l("i",{class:"fe fe-settings fe-32 align-self-center text-white"})]),l("p",null,"Settings")])])])])])],-1))],64))}};export{Tl as default};
