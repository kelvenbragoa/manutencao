import{h as y,u as x,r as s,i as k,j as w,c as o,a as i,b as t,d as D,m as M,n as q,f as B,p as m,R as N,F as S,l as V,t as l,x as j,g as E}from"./app-DAvsvyGq.js";import{d as R,h as Y}from"./moment-D4kkntM3.js";const z={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},A={key:1},C={class:"container-fluid"},F={class:"row justify-content-center"},L={class:"col-12"},P={class:"row align-items-center my-4"},T={class:"col-auto"},I={class:"card shadow"},$={class:"card-body"},H={class:"table table-bordered table-hover"},O={class:"mb-0"},Q={class:"mb-0"},U={class:"mb-0"},G={class:"mb-0"},J={class:"mb-0"},K={class:"mb-0"},tt={__name:"IndexExitMovement",setup(W){const c=y(),h=x();s(null);const r=s(!0);s(!1),s(null);const u=s(""),d=s(null),g=s(1);s(15);const v=s(0);s(!1),s();function f(n){return{1:"secondary",2:"info",3:"warning",4:"danger",5:"primary"}[n]||"secondary"}function _(){c&&c.back()}const p=async(n=1)=>{E.get(`/api/exitmovement?page=${n}`,{params:{query:u.value}}).then(a=>{d.value=a.data,v.value=a.data.total,r.value=!1,console.log(d.value)}).catch(a=>{r.value=!1,h.error(`${a}`),_()})},b=R(()=>{p(g.value)},300);return k(u,b),w(()=>{p()}),(n,a)=>r.value?(i(),o("div",z,a[0]||(a[0]=[t("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(i(),o("div",A,[t("div",C,[t("div",F,[t("div",L,[t("div",P,[a[2]||(a[2]=t("div",{class:"col"},[t("h2",{class:"h3 mb-0 page-title"}," Saídas Autorizadas ")],-1)),t("div",T,[M(m(N),{class:"btn btn-primary",to:"/supervisor/exitmovement/create"},{default:q(()=>a[1]||(a[1]=[t("span",{class:"fe fe-filter fe-12 mr-2"},null,-1),B("Criar ",-1)])),_:1,__:[1]})])]),t("div",I,[t("div",$,[t("table",H,[a[4]||(a[4]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Equipamento"),t("th",null,"Frota"),t("th",null,"Estado"),t("th",null,"Observação"),t("th",null,"Data"),t("th",null,"Action")])],-1)),t("tbody",null,[(i(!0),o(S,null,V(d.value.data,e=>(i(),o("tr",null,[t("td",null,[t("p",O,l(e.id),1)]),t("td",null,[t("p",Q,l(e.equipment.name),1)]),t("td",null,[t("p",U,l(e.equipment.fleet.name),1)]),t("td",null,[t("p",G,[t("span",{class:j(["badge","badge-"+f(e.equipment_movement_status_id)])},l(e.status.name),3)])]),t("td",null,[t("p",J,l(e.observation),1)]),t("td",null,[t("p",K,l(m(Y)(e.created_at).format("DD-MM-YYYY H:mm")),1)]),a[3]||(a[3]=t("td",null,[t("button",{class:"btn btn-sm dropdown-toggle more-horizontal",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted sr-only"},"Action")]),t("div",{class:"dropdown-menu dropdown-menu-right"},[t("a",{class:"dropdown-item",href:"#"},"Verificar")])],-1))]))),256))])])])]),a[5]||(a[5]=D('<nav aria-label="Table Paging" class="my-3"><ul class="pagination justify-content-end mb-0"><li class="page-item"><a class="page-link" href="#">Previous</a></li><li class="page-item active"><a class="page-link" href="#">1</a></li><li class="page-item"><a class="page-link" href="#">2</a></li><li class="page-item"><a class="page-link" href="#">3</a></li><li class="page-item"><a class="page-link" href="#">Next</a></li></ul></nav>',1))])])])]))}};export{tt as default};
