import{A as B,c,e as $,a as d,b as t,x as f,F as q,l as D,t as u,h as E,u as R,r as n,i as A,j as M,I as j,m as k,n as P,f as x,p as _,R as w,g as I}from"./app-vsM4U1yu.js";import{d as T,h as V}from"./moment-D4kkntM3.js";const Y={key:0,"aria-label":"Table Paging",class:"my-3"},F={class:"pagination justify-content-end mb-0"},L=["disabled"],S=["onClick"],z=["disabled"],H={__name:"PaginationSimple",props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0},delta:{type:Number,default:2}},emits:["navigate"],setup(a,{emit:v}){const o=a,b=v,p=B(()=>{const l=[],i=Math.max(1,o.currentPage-o.delta),s=Math.min(o.lastPage,o.currentPage+o.delta);for(let g=i;g<=s;g++)l.push(g);return l});function m(l){l<1||l>o.lastPage||l===o.currentPage||b("navigate",l)}return(l,i)=>a.lastPage>1?(d(),c("nav",Y,[t("ul",F,[t("li",{class:f(["page-item",{disabled:a.currentPage===1}])},[t("button",{class:"page-link",type:"button",onClick:i[0]||(i[0]=s=>m(a.currentPage-1)),disabled:a.currentPage===1}," Previous ",8,L)],2),(d(!0),c(q,null,D(p.value,s=>(d(),c("li",{key:s,class:f(["page-item",{active:s===a.currentPage}])},[t("button",{class:"page-link",type:"button",onClick:g=>m(s)},u(s),9,S)],2))),128)),t("li",{class:f(["page-item",{disabled:a.currentPage===a.lastPage}])},[t("button",{class:"page-link",type:"button",onClick:i[1]||(i[1]=s=>m(a.currentPage+1)),disabled:a.currentPage===a.lastPage}," Next ",8,z)],2)])])):$("",!0)}},Q={key:0,class:"vh-100 d-flex justify-content-center align-items-center"},U={key:1},G={class:"container-fluid"},J={class:"row justify-content-center"},K={class:"col-12"},O={class:"row align-items-center my-4"},W={class:"col-auto"},X={class:"card shadow"},Z={class:"card-body"},tt={class:"table table-bordered table-hover"},et={class:"mb-0"},at={class:"mb-0"},st={class:"mb-0"},nt={class:"mb-0"},lt={class:"mb-0"},ot={class:"mb-0"},it={class:"dropdown-menu dropdown-menu-right"},rt={class:"dropdown-item",href:"#"},ct={__name:"IndexEquipments",setup(a){const v=E(),o=R();n(null);const b=n(!0);n(!1),n(null);const p=n(""),m=n(null),l=n(1);n(15);const i=n(0);n(!1),n();const s=n({data:[],links:[],current_page:1,last_page:1,total:0});function g(h){page.value=h}function N(){v&&v.back()}const y=async(h=1)=>{I.get(`/api/equipments?page=${h}`,{params:{query:p.value}}).then(e=>{m.value=e.data,i.value=e.data.total,b.value=!1,s.value=e.data}).catch(e=>{b.value=!1,o.error(`${e}`),N()})},C=T(()=>{y(l.value)},300);return A(p,C),M(()=>{y()}),(h,e)=>b.value?(d(),c("div",Q,e[0]||(e[0]=[t("div",{class:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"}},null,-1)]))):(d(),c("div",U,[t("div",G,[t("div",J,[t("div",K,[t("div",O,[e[2]||(e[2]=t("div",{class:"col"},[t("h2",{class:"h3 mb-0 page-title"},"Equipamentos")],-1)),t("div",W,[k(_(w),{class:"btn btn-primary",to:"/admin/equipments/create"},{default:P(()=>e[1]||(e[1]=[t("span",{class:"fe fe-filter fe-12 mr-2"},null,-1),x("Criar ",-1)])),_:1,__:[1]})])]),t("div",X,[t("div",Z,[t("table",tt,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Equipamento"),t("th",null,"Frota"),t("th",null,"Ref"),t("th",null,"Estado"),t("th",null,"Data"),t("th",null,"Action")])],-1)),t("tbody",null,[(d(!0),c(q,null,D(m.value.data,r=>(d(),c("tr",null,[t("td",null,[t("p",et,u(r.id),1)]),t("td",null,[t("p",at,u(r.name),1)]),t("td",null,[t("p",st,u(r.fleet.name),1)]),t("td",null,[t("p",nt,u(r.plate_number),1)]),t("td",null,[t("p",lt,u(r.status==1?"Ativo":"Inativo"),1)]),t("td",null,[t("p",ot,u(_(V)(r.created_at).format("DD-MM-YYYY H:mm")),1)]),t("td",null,[e[5]||(e[5]=t("button",{class:"btn btn-sm dropdown-toggle more-horizontal",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted sr-only"},"Action")],-1)),t("div",it,[k(_(w),{class:"dropdown-item",to:"/admin/equipments/"+r.id+"/edit"},{default:P(()=>e[3]||(e[3]=[x("Editar",-1)])),_:2,__:[3]},1032,["to"]),e[4]||(e[4]=t("a",{class:"dropdown-item",href:"#"},"Remover",-1)),t("a",rt,u(r.status==1?"Desativar":"Ativar"),1)])])]))),256))])])])]),s.value.links?(d(),j(H,{key:0,links:s.value.links,onNavigate:g},null,8,["links"])):$("",!0)])])])]))}};export{ct as default};
